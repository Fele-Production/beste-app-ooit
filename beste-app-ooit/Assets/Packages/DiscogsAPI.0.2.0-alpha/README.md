# Discogs API for C#

A Dotnet package for communicating with the Discogs API by Coolboyfeel and OceanBravo


## Getting Started

After installing the package, you will need to run some code before the package will work.
Before your scripts call any DiscogsAPI methods, the following code has to be run.

` Client.Save(new(UserAgent,AuthToken,UsingUnity)); `

* The **User Agent** is formatted like this: `ExampleUser/1.0` (name/version). Discogs prefers something following [RFC 1945](https://datatracker.ietf.org/doc/html/rfc1945#section-3.7).
* The **Auth Token** can be generated by going to your account settings, then the Delevopers tab, clicking Generate new token and copying the generated token.
* **Using Unity** _(WIP)_ is an optional bool, by default false, only enter true here when you're using the package inside of unity.  
   

## Available Methods
### Getting Masters

`Search.Masters(string search, int per_page, int page)`  
*async method, returns [Master](#master), or `null` if failed*

* **Search** is the string to search for.
* **Per Page** (Optional, default is 1) is the amount of items to be returned, also the amount of items until it counts as the next page. 
* **Page** (Optional, default is 1) is the index (starting from 1) of the page to return items from.

### Getting Releases from a Master
`Search.Releases(int master_id, int per_page, int page)`  
*async method, returns [MasterReleases](#masterreleases), or `null` if failed*

* **Master Id** is the id of the master whose releases to return.
* **Per Page** (Optional, default is 1) is the amount of items to be returned, also the amount of items until it counts as the next page.
* **Page** (Optional, default is 1) is the index (starting from 1) of the page to return items from.

### Getting all the information from a Release
`Search.Release(int release_id)`  
*async method, returns [Release](#release), or `null` if failed*

* **Release Id** is the id of the release whose information to return.

### General search of the Database
`Search.Global(SearchQuery query, int per_page, int page)`  
*async method, returns [Master](#master), or `null` if failed*

* **Query** is an instance of the [SearchQuery](#search-query) class, which is a collection of optional filters.
* **Per Page** (Optional, default is 1) is the amount of items to be returned, also the amount of items until it counts as the next page.
* **Page** (Optional, default is 1) is the index (starting from 1) of the page to return items from.

## Available Classes

### Master
```
pagination
    page (int)
    pages (int)
    per_page (int)
    items (int)
    urls
        last (string)
        next (string)
results[]
    title (string)
    country (string)
    year (string)
    format (string[])
    label (string[])
    type (string)
    id (int)
    barcode (string[])
    user_data
        in_wantlist (bool)
        in_collection (bool)
    master_id (int)
    master_url (string)
    uri (string)
    catno (string)
    thumb (string)
    cover_image (string)
    resource_url (string)
    community
        want (int)
        have (int)
```

### MasterReleases
```
pagination
    page (int)
    pages (int)
    per_page (int)
    items (int)
    urls
        last (string)
        next (string)
filters
    applied
        format (string[])
        available
filter_facets[]
    title (string)
    id (string)
    values[]
        title (string)
        value (string)
        count (int)
    allow_multiple_values (bool)
versions[]
    id (int)
    label (string)
    country (string)
    title (string)
    major_formats (string[])
    format (string)
    catno (string)
    released (string)
    status (string)
    resource_url (string)
    thumb (string)
    stats
        community
            in_wantlist (int)
            in_collection (int)
        user
            in_wantlist (int)
            in_collection (int)
```
#### notes:
- **versions[].stats.user**: The data refers to the one who generated to the authtoken. This can be changed by using OAuth _(WIP)_.


### Release
```
id (int)
status (string)
year (int)
resource_url (string)
uri (string)
artists[]
    name (string)
    anv (string)
    join (string)
    role (string)
    tracks (string)
    id (int)
    resource_url (string)
    thumbnail_url (string)
artists_sort (string)
labels[]
    name (string)
    catno (string)
    entity_type (string)
    entity_type_name (string)
    id (int)
    resource_url (string)
    thumbnail_url (string)
series[]
companies[]
    name (string)
    catno (string)
    entity_type (string)
    entity_type_name (string)
    id (int)
    resource_url (string)
    thumbnail_url (string)
formats[]
name (string)
qty (string)
descriptions (string[])
data_quality (string)
community
    have (int)
    want (int)
    rating
        count (int)
        average (float)
    data_quality (string)
    status (string)
    submitter
        username (string)
        resource_url (string)
    contributors[]
        username (string)
        resource_url (string)
format_quantity (int)
master_id (int)
master_url (string)
title (string)
country (string)
released (string)
notes (string)
released_formatted (string)
identifiers[]
    type (string)
    value (string)
    description (string)
videos[]
    uri (string)
    title (string)
    description (string)
    duration (int)
    embed (bool)
genres (string[])
styles (string[])
tracklist[]
    position (string)
    type_ (string)
    title (string)
    extraartists[]
        name (string)
        anv (string)
        join (string)
        role (string)
        tracks (string)
        id (int)
        resource_url (string)
        thumbnail_url (string)
        duration (string)
extraartists[]
    name (string)
    anv (string)
    join (string)
    role (string)
    tracks (string)
    id (int)
    resource_url (string)
    thumbnail_url (string)
images[]
    type (string)
    uri (string)
    resource_url (string)
    uri150 (string) //150 px versie
    width (int)
    height (int)
thumb (string)
```

#### notes:
- **(extra)artists[].join**: If there are multiple main artists, this will contain the character used to join them together (e.g. /)
- **released**: format is yyyy-mm-dd (e.g. 1989-08-08)
- **released_formatted**: format is dd month yyyy (e.g 08 Aug 1989)
- **tracklist[].position**: format is side+index (e.g. A1)

### Search Query

* **Search** (Optional) is the string to search for.
* **Type** (Optional) is the type to search for [release, master, artist, label]
* **Title** (Optional) is the string to search for in the format “Artist Name - Release Title”.
* **Release Title** (Optional) is the release title to search for.
* **Credit** (Optional) is the credited name to search for.
* **Artist** (Optional) is the artist to search for.
* **Anv** (Optional) is the alternate variation of an artist name to search for.
* **Label** (Optional) is the label to search for.
* **Genre** (Optional) is the genre to search for.
* **Style** (Optional) is the style to search for.
* **Country** (Optional) is the country to search for.
* **Year** (Optional) is the year to search for.
* **Format** (Optional) is the format to search for. 
* **Catno** (Optional) is the catalog number to search for.
* **Barcode** (Optional) is the barcode to search for.
* **Track** (Optional) is a track title to search for.
* **Submitter** (Optional) is the submitters username to search for.
* **Contributor** (Optional) is the contributors username to search for.  
* `Concat()` _returns all inputted search filters as one string_

#### notes:
##### USAGE EXAMPLE:
`SearchQuery query = new() {search = "bleach", artist = "nirvana"};`